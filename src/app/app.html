<div class="container">
  <header>
    <h1>GÃ¶rev YÃ¶neticisi</h1>
  </header>

  <div class="task-form-card" [style.border]="editingTaskId ? '2px solid #3498db' : 'none'">
    
    <h2 *ngIf="!editingTaskId">Yeni GÃ¶rev Ekle</h2>
    <h2 *ngIf="editingTaskId" style="color: #3498db;">GÃ¶revi DÃ¼zenle</h2>

    <div class="form-group">
      <input type="text" [(ngModel)]="newTaskTitle" (keyup.enter)="saveTask()" placeholder="YapÄ±lacak bir ÅŸey yaz..." class="form-input">
    </div>
    
    <div class="form-row" style="display: flex; gap: 10px; margin-bottom: 10px;">
      <select [(ngModel)]="newCategory" class="form-select">
        <option value="Ä°ÅŸ">Ä°ÅŸ</option>
        <option value="Okul">Okul</option>
        <option value="KiÅŸisel">KiÅŸisel</option>
        <option value="DiÄŸer">DiÄŸer</option>
      </select>
      <select [(ngModel)]="newPriority" class="form-select">
        <option value="DÃ¼ÅŸÃ¼k">DÃ¼ÅŸÃ¼k</option>
        <option value="Orta">Orta</option>
        <option value="YÃ¼ksek">YÃ¼ksek</option>
      </select>
      <input type="date" [(ngModel)]="newDeadline" class="form-input" style="width: auto;">
    </div>
    
    <div style="display: flex; gap: 10px;">
      <button (click)="saveTask()" class="add-btn" 
              [style.background-color]="editingTaskId ? '#3498db' : '#27ae60'">
        {{ editingTaskId ? 'GÃ¼ncelle ğŸ’¾' : 'Ekle +' }}
      </button>

      <button *ngIf="editingTaskId" (click)="cancelEdit()" class="cancel-btn">
        VazgeÃ§ âŒ
      </button>
    </div>
  </div>

  <div class="filter-section">
    <div class="filter-group">
      <label>Kategori:</label>
      <select [(ngModel)]="filterCategory">
        <option value="TÃ¼mÃ¼">TÃ¼mÃ¼</option>
        <option value="Ä°ÅŸ">Ä°ÅŸ</option>
        <option value="Okul">Okul</option>
        <option value="KiÅŸisel">KiÅŸisel</option>
        <option value="DiÄŸer">DiÄŸer</option>
      </select>
    </div>
    <div class="filter-group">
      <label>Durum:</label>
      <select [(ngModel)]="filterStatus">
        <option value="TÃ¼mÃ¼">TÃ¼mÃ¼</option>
        <option value="Tamamlananlar">Tamamlananlar</option>
        <option value="YapÄ±lacaklar">YapÄ±lacaklar</option>
      </select>
    </div>
    <div class="filter-group">
      <label>SÄ±rala:</label>
      <select [(ngModel)]="sortOption">
        <option value="date-asc">ğŸ“… Tarihe GÃ¶re</option>
        <option value="priority-desc">ğŸ”¥ Ã–nceliÄŸe GÃ¶re</option>
      </select>
    </div>
  </div>

  <div class="task-list">
    <h3>GÃ¶revlerim ({{ filteredTasks.length }})</h3>

    <div *ngIf="filteredTasks.length === 0" class="empty-state">
        Listelenecek gÃ¶rev yok.
    </div>

    <ul style="list-style: none; padding: 0;">
      <li *ngFor="let task of filteredTasks" 
          class="task-item"
          [class.completed-task]="task.isCompleted"
          [style.border-left]="editingTaskId === task.id ? '5px solid #3498db' : '1px solid #eee'">
        
        <div style="display: flex; align-items: center; gap: 10px;">
          <input type="checkbox" [checked]="task.isCompleted" (change)="toggleCompletion(task)" style="cursor: pointer; width: 18px;">
          <div>
            <div style="font-weight: 500;">{{ task.title }}</div>
            <div style="font-size: 0.8rem; color: #7f8c8d; display: flex; gap: 10px;">
              <span>ğŸ“ {{ task.category }}</span>
              <span *ngIf="task.deadline">ğŸ“… {{ task.deadline }}</span>
            </div>
          </div>
        </div>

        <div style="display: flex; align-items: center; gap: 5px;">
           <span class="badge" 
                 [class.high-priority]="task.priority === 'YÃ¼ksek'"
                 [class.low-priority]="task.priority === 'DÃ¼ÅŸÃ¼k'">
              {{ task.priority }}
           </span>

           <button (click)="startEditing(task)" class="edit-btn">âœï¸</button>

           <button (click)="deleteTask(task)" class="delete-btn">ğŸ—‘ï¸</button>
        </div>
      </li>
    </ul>
  </div>
</div>